webpackJsonp([10],{Zk12:function(e,t){},f55F:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("BO1k"),r=a.n(n),s=a("Xxa5"),i=a.n(s),u=a("exGp"),o=a.n(u),l=a("gyMJ"),c=a("5789"),m=a("vPHJ"),p={name:"DeviceState",mounted:function(){this.getStateInfo(this.statetype)},data:function(){return{search:"",numberData:[],number:[],statetype:"正常",other:["正常","错误","警告","离线"],currentPage:1,pageNum:10,customList:[{name:"打印机编号",state:!0,value:"number"},{name:"版本号",state:!0,value:"wifiFirmwareVersion"},{name:"IP",state:!0,value:"ip"},{name:"状态",state:!0,value:"state"}],custom:{number:!0,state:!0,ip:!0,wifiFirmwareVersion:!0}}},methods:{toggleState:function(){var e=this;return o()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.r)(e.statetype);case 2:if(0==(a=t.sent).code)if(a.data.length<1)e.number=[],e.$message({type:"error",message:"沒有显示"+e.statetype+"状态的设备",duration:3e3,showClose:!0});else{for(n=0;n<a.data.length;n++)a.data[n].id=n+1,a.data[n].wifiFirmwareVersion=Object(m.g)(a.data[n].wifiFirmwareVersion);e.numberData=a.data,e.number=e.numberData.slice(0,e.pageNum)}else e.$message({type:"error",message:"读取设备失败",duration:3e3,showClose:!0});case 4:case"end":return t.stop()}},t,e)}))()},getStateInfo:function(e){var t=this;return o()(i.a.mark(function a(){var n,r;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.r)(e);case 2:if(0==(n=a.sent).code){for(r=0;r<n.data.length;r++)n.data[r].wifiFirmwareVersion=Object(m.g)(n.data[r].wifiFirmwareVersion),n.data[r].id=r+1;t.numberData=n.data,t.number=t.numberData.slice(0,t.pageNum)}case 4:case"end":return a.stop()}},a,t)}))()},handleChange:function(e){this.number=this.numberData.slice(0,e)},handleCurrentChange:function(e){var t=this.pageNum*e,a=t-this.pageNum;this.number=[],this.number=this.numberData.slice(a,t)},defaultFun:function(e){this.custom={};var t=!0,a=!1,n=void 0;try{for(var s,i=r()(e);!(t=(s=i.next()).done);t=!0){var u=s.value;this.custom[u.value]=u.state}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}},confirmFun:function(e){this.custom={};var t=!0,a=!1,n=void 0;try{for(var s,i=r()(e);!(t=(s=i.next()).done);t=!0){var u=s.value;this.custom[u.value]=u.state}}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}this.customList=e},closeCustom:function(e){this.customList=[],this.customList=e}},components:{MyPopover:c.a}},h={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"right"},[n("div",{staticClass:"box"},[n("div",{staticClass:"title"},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("span",{staticStyle:{"margin-right":"40px"}},[t._v("正在显示的设备")]),t._v(" "),n("MyPopover",{attrs:{"custom-list":t.customList},on:{defaultFun:t.defaultFun,confirmFun:t.confirmFun,closeCustom:t.closeCustom}})],1),t._v(" "),n("el-input",{staticStyle:{width:"250px",height:"100%"},attrs:{"suffix-icon":"el-icon-search",placeholder:"输入number搜索"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),n("div",{staticClass:"body"},[n("el-table",{staticStyle:{width:"100%",height:"485px"},attrs:{data:t.number.filter(function(t){return!e.search||t.number.toLowerCase().includes(e.search.toLowerCase())}),"max-height":"485px"}},[n("el-table-column",{attrs:{label:"序号",prop:"id"}}),t._v(" "),t.custom.number?n("el-table-column",{attrs:{label:"打印机编号",prop:"number"}}):t._e(),t._v(" "),t.custom.wifiFirmwareVersion?n("el-table-column",{attrs:{label:"版本号",prop:"wifiFirmwareVersion"}}):t._e(),t._v(" "),t.custom.ip?n("el-table-column",{attrs:{label:"本地ip",prop:"ipsString"}}):t._e(),t._v(" "),t.custom.state?n("el-table-column",{staticStyle:{height:"300px"},attrs:{label:"状态",prop:"main",width:"200",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",{staticClass:"select-box",staticStyle:{display:"flex","line-height":"40px"}},[t._v("\n              状态\n              "),n("el-select",{attrs:{size:"small"},on:{change:t.toggleState},model:{value:t.statetype,callback:function(e){t.statetype=e},expression:"statetype"}},t._l(t.other,function(e){return n("el-option",{key:e,attrs:{value:e}})}),1)],1)]}}],null,!1,4224658838)}):t._e()],1)],1),t._v(" "),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageNum,layout:"prev, pager, next, jumper",total:t.numberData.length},on:{handleChange:t.handleChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),t._v(" "),n("span",{staticStyle:{"margin-left":"18px"}},[t._v("每页显示行数：")]),t._v(" "),n("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini",min:1,label:"描述文字"},on:{change:t.handleChange},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}})],1)])])},staticRenderFns:[]};var f=a("VU/8")(p,h,!1,function(e){a("Zk12")},"data-v-59598fba",null);t.default=f.exports}});