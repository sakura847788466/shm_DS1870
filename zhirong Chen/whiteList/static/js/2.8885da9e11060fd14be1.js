webpackJsonp([2,4],{"+Oz+":function(t,e){},"5zde":function(t,e,a){a("zQR9"),a("qyJz"),t.exports=a("FeBl").Array.from},Gu7T:function(t,e,a){"use strict";e.__esModule=!0;var i,s=a("c/Tr"),n=(i=s)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,n.default)(t)}},"c/Tr":function(t,e,a){t.exports={default:a("5zde"),__esModule:!0}},fBQ2:function(t,e,a){"use strict";var i=a("evD5"),s=a("X8DO");t.exports=function(t,e,a){e in t?i.f(t,e,s(0,a)):t[e]=a}},g5mp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("gyMJ"),s={name:"Backups",mounted:function(){this.getBackupsData(),this.getLogSetting()},data:function(){return{value:"",activeName:"e",activeDate:"month",checkList:[],importList:[],firmwareName:"",Data:[],backupsData:[],currentPage:1,pageNum:10,loading:!1,timer:{month:"1",day:"1",twoDay:"1",text:""},configData:"",stepStatus:{active:1,status:"",title:"步骤一",titler:"步骤二",titles:"步骤三"}}},methods:{getBackupsData:function(){var t=this;Object(i.p)().then(function(e){t.Data=[],t.backupsData=[];for(var a=0;a<e.data.length;a++)t.Data.push({id:a+1,number:e.data[a]});t.backupsData=t.Data.slice(0,t.pageNum)}).catch(function(t){console.log(t)})},changeData:function(t){if("day"==t){var e=this.configData.timingbackup.split(" ");if(console.log(e),"*"==e[4]){var a=e[3].split("/");this.timer.day=a[1],this.timer.twoDay=a[1],this.timer.text="按日期，每隔"+a[1]+"日"}else{var i=e[3];this.timer.day=i,this.timer.twoDay=i,this.timer.text="按日期,每隔"+i+"日"}}else if("month"==t){var s=this.configData.timingbackup.split(" ");if("*"==s[4]){var n=s[3].split("/");this.timer.day=n[1],this.timer.twoDay=n[1];var r=s[3].split("/");this.timer.month=r[0],this.timer.text="按月份和日期，每隔"+r[0]+"个月的"+n[1]+"日"}else{var o=s[3];console.log(o),this.timer.day=o,this.timer.twoDay=o;var l=s[4].split("/");console.log(l),this.timer.month=l[1],this.timer.text="按月份和日期，每隔"+l[1]+"个月的"+o+"日"}}},handleFinder:function(t,e){var a=this;this.$confirm("此操作将还原当前数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then(function(){var e=a.backupsData[t].number,s=a.$loading({lock:!0,text:"数据还原中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i.A)(e).then(function(t){s.close(),a.$message({type:"success",message:"还原备份数据成功",duration:3e3,showClose:!0}),setTimeout(function(){window.location.reload()},3e3)}).catch(function(t){setTimeout(function(){s.close(),a.$message({type:"error",message:"还原备份数据失败",duration:3e3,showClose:!0})},3e3)})}).catch(function(){a.$message({type:"info",message:"已取消还原备份数据"})})},startBackups:function(){var t=this;Object(i.b)().then(function(e){t.$message({type:"success",message:"备份数据成功",duration:3e3,showClose:!0}),t.currentPage=1,Object(i.p)().then(function(e){t.Data=[],t.backupsData=[];for(var a=0;a<e.data.length;a++)t.Data.push({id:a+1,number:e.data[a]});t.backupsData=t.Data.slice(0,t.pageNum)})}).catch(function(e){t.$message({type:"error",message:"备份数据失败",duration:3e3,showClose:!0})})},handleChange:function(t){this.backupsData=this.Data.slice(0,t)},handleCurrentChange:function(t){var e=this.pageNum*t,a=e-this.pageNum;this.backupsData=[],this.backupsData=this.Data.slice(a,e)},getLogSetting:function(){var t=this;Object(i.o)().then(function(e){var a=e.data.timingbackup.split(" ");if(t.configData=e.data,"*"==a[4]){t.activeDate="day";var i=a[3].split("/");t.timer.twoDay=i[1],t.timer.text="按日期，每隔"+i[1]+"日"}else{t.timer.day=a[3];var s=a[4].split("/");t.timer.month=s[1],t.timer.text="按月份和日期，每隔"+s[1]+"个月的"+a[3]+"日"}}).catch(function(t){})},updateSetting:function(){var t=this,e="";"month"==this.activeDate?(this.configData.timingbackup="0 0 0 "+this.timer.day+" 1/"+this.timer.month+" *",e="是否设置每隔"+this.timer.month+"个月的"+this.timer.day+"号定时备份数据"):(this.configData.timingbackup="0 0 0 1/"+this.timer.twoDay+" * *",e="是否设置每个月的"+this.timer.twoDay+"号定时备份数据"),this.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then(function(){var e=t.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i.E)(t.configData).then(function(a){t.$message({type:"success",message:a.data,duration:3e3,showClose:!0}),e.close(),t.getLogSetting()}).catch(function(a){t.$message({type:"error",message:"修改失败",duration:3e3,showClose:!0}),e.close()})})},derive:function(){var t=this;this.checkList.length>0?this.$prompt("请输入导出文件的保存名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1}).then(function(e){var a=e.value,s=t.checkList.toString(),n=Object(i.h)({collection:s,saveName:a});window.location.href=n}):this.$message({type:"error",message:"请选择导出的文件",duration:1500,showClose:!0})},request:function(t){var e=t.target.files[0];/\.zip/.test(e.name)?(this.firmwareName=e.name,this.stepStatus.active=2,this.stepStatus.status="success",this.stepStatus.title="已完成",this.stepStatus.titler="进行中"):this.$message({type:"error",message:"文件类型有误",duration:3e3,showClose:!0})},mySubmit:function(){var t=this;if(""!=this.firmwareName)if(this.importList<1)this.$message({type:"error",message:"请选择导入文件选项",duration:3e3,showClose:!0});else{var e=this.importList.toString(),a=new FormData,s=document.getElementById("firmwareName").files[0];a.append("file",s),this.$confirm("此操作将覆盖旧数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",closeOnClickModal:!1}).then(function(){Object(i.y)(e,a).then(function(e){t.$message({type:"success",message:e.data,duration:3e3,showClose:!0}),t.stepStatus.active=3,t.stepStatus.status="success";var a=setTimeout(function(){t.stepStatus.active=0,t.stepStatus.title="步骤一",t.stepStatus.titler="步骤二",t.stepStatus.active>=3&&clearTimeout(a)},4e3)}).catch(function(e){t.$message({type:"error",message:e.data,duration:3e3,showClose:!0})})})}else this.$message({type:"error",message:"请上传导入文件",duration:3e3,showClose:!0})},handleDel:function(t){var e=this;this.$confirm("此操作将删除当前数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=t.number,s=e.$loading({lock:!0,text:"数据删除中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(i.e)(a).then(function(t){s.close(),e.getBackupsData(),e.$message({type:"success",message:"删除备份数据成功",duration:3e3,showClose:!0})}).catch(function(t){setTimeout(function(){s.close(),e.$message({type:"error",message:"删除备份数据失败",duration:3e3,showClose:!0})},3e3)})}).catch(function(){e.$message({type:"info",message:"已取消删除备份数据"})})}},components:{Firmware:a("v1lr").default}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("数据备份")]),t._v(" "),a("div",{staticClass:"nav"},[a("div",[a("el-button",{attrs:{type:"e"==t.activeName?"primary":"info"},on:{click:function(e){t.activeName="e"}}},[t._v("数据表导出")]),t._v(" "),a("el-button",{attrs:{type:"r"==t.activeName?"primary":"info"},on:{click:function(e){t.activeName="r"}}},[t._v("数据表导入")]),t._v(" "),a("el-button",{attrs:{type:"d"==t.activeName?"primary":"info"},on:{click:function(e){t.activeName="d"}}},[t._v("定时备份")]),t._v(" "),a("el-button",{attrs:{type:"b"==t.activeName?"primary":"info"},on:{click:function(e){t.activeName="b"}}},[t._v("数据库备份")])],1),t._v(" "),"b"==t.activeName?a("el-button",{staticStyle:{"margin-left":"auto"},attrs:{type:"success"},on:{click:function(e){return e.preventDefault(),t.startBackups(e)}}},[t._v("开始备份数据")]):t._e()],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"e"==t.activeName,expression:"activeName=='e'"}],staticClass:"body"},[a("div",{staticStyle:{"padding-top":"20px",height:"290px"}},[a("p",{staticStyle:{"font-size":"18px","margin-bottom":"20px"}},[t._v("请选择导出的内容：")]),t._v(" "),a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"whitelist",border:"",size:"small",checked:!0}},[t._v("白名单")]),t._v(" "),a("el-checkbox",{attrs:{label:"print_result_log",border:"",size:"small",checked:!0}},[t._v("打印记录")]),t._v(" "),a("el-checkbox",{attrs:{label:"configuration_file",border:"",size:"small",checked:!0}},[t._v("配置文件")])],1)],1),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.derive()}}},[t._v("立即导出")])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"r"==t.activeName,expression:"activeName=='r'"}],staticClass:"body  body_ada"},[a("div",{staticClass:"top_ada"},[a("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:t.stepStatus.active,"align-center":"","finish-status":t.stepStatus.status}},[a("el-step",{attrs:{title:t.stepStatus.title}}),t._v(" "),a("el-step",{attrs:{title:t.stepStatus.titler}}),t._v(" "),a("el-step",{attrs:{title:t.stepStatus.titles}})],1)],1),t._v(" "),a("div",{staticClass:"bottom_ada"},[a("div",{staticClass:"left_ada",staticStyle:{position:"relative"}},[a("input",{staticStyle:{display:"none"},attrs:{id:"firmwareName",type:"file",accept:".zip"},on:{change:function(e){return t.request(e)}}}),t._v(" "),a("label",{staticClass:"btn btnR_ada",attrs:{for:"firmwareName",title:"请导入.zip文件"}},[t._v("\n            文件导入\n          ")])]),t._v(" "),a("div",{staticClass:"content_ada"},[a("p",{staticStyle:{"font-size":"18px","margin-bottom":"10px","margin-top":"10px"}},[t._v("当前选择的文件："+t._s(t.firmwareName))]),t._v(" "),a("p",{staticStyle:{"font-size":"18px","margin-bottom":"20px","margin-top":"10px"}},[t._v("请选择导入的文件类型：")]),t._v(" "),a("el-checkbox-group",{model:{value:t.importList,callback:function(e){t.importList=e},expression:"importList"}},[a("el-checkbox",{staticStyle:{display:"block",margin:"20px 0px 20px 0px",width:"86px"},attrs:{label:"whitelist.json",border:"",size:"small",checked:!0}},[t._v("白名单")]),t._v(" "),a("el-checkbox",{staticStyle:{display:"block",margin:"20px 0px 20px 0px",width:"86px"},attrs:{label:"print_result_log.json",border:"",size:"small",checked:!0}},[t._v("打印记录")]),t._v(" "),a("el-checkbox",{staticStyle:{display:"block",margin:"20px 0px 20px 0px",width:"86px"},attrs:{label:"application.properties",border:"",size:"small",checked:!0}},[t._v("配置文件")])],1)],1),t._v(" "),a("div",{staticClass:"right_ada"},[a("el-button",{staticClass:"btnC_ada",attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.mySubmit()}}},[t._v("立即导入")])],1)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"d"==t.activeName,expression:"activeName=='d'"}],staticClass:"body"},[a("div",{staticStyle:{"padding-top":"20px",height:"290px"}},[a("p",{staticStyle:{"font-size":"14px","margin-bottom":"20px"}},[a("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"dodgerblue"}}),t._v("\n          当前数据备份方式是：\n          "),a("span",{staticStyle:{color:"#F56C6C","font-size":"14px"}},[t._v(t._s(t.timer.text))])]),t._v(" "),a("p",{staticStyle:{"font-size":"18px","margin-bottom":"20px"}},[t._v("请选择定时备份方式：")]),t._v(" "),a("div",{staticClass:"my-dialog-body"},[a("div",{staticClass:"my-dialog-body-title"},[a("el-radio",{staticStyle:{"margin-right":"50px"},attrs:{label:"month"},model:{value:t.activeDate,callback:function(e){t.activeDate=e},expression:"activeDate"}},[t._v("月份和日期")]),t._v(" "),a("el-radio",{attrs:{label:"day"},model:{value:t.activeDate,callback:function(e){t.activeDate=e},expression:"activeDate"}},[t._v("日期")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"month"==t.activeDate,expression:"activeDate=='month'"}]},[a("div",{staticClass:"my-dialog-body-content"},[a("div",[t._v("每隔\n                "),a("el-select",{staticStyle:{width:"60px"},attrs:{placeholder:"",size:"mini"},model:{value:t.timer.month,callback:function(e){t.$set(t.timer,"month",e)},expression:"timer.month"}},t._l(12,function(t){return a("el-option",{key:t,attrs:{value:t}})}),1),t._v("\n                个 月 的\n              ")],1),t._v(" "),a("div",[a("el-select",{staticStyle:{width:"60px"},attrs:{placeholder:"",size:"mini"},model:{value:t.timer.day,callback:function(e){t.$set(t.timer,"day",e)},expression:"timer.day"}},t._l(30,function(t){return a("el-option",{key:t,attrs:{value:t}})}),1),t._v("\n                日\n              ")],1)]),t._v(" "),t._m(0)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"day"==t.activeDate,expression:"activeDate=='day'"}]},[a("div",{staticClass:"my-dialog-body-content"},[t._v("\n              每隔\n              "),a("el-select",{staticStyle:{margin:"0 3px",width:"60px"},attrs:{placeholder:"",size:"mini"},model:{value:t.timer.twoDay,callback:function(e){t.$set(t.timer,"twoDay",e)},expression:"timer.twoDay"}},t._l(30,function(t){return a("el-option",{key:t,attrs:{value:t}})}),1),t._v("\n              日\n            ")],1),t._v(" "),t._m(1)])])]),t._v(" "),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.preventDefault(),t.updateSetting(e)}}},[t._v("立即设置")])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"b"==t.activeName,expression:"activeName=='b'"}],staticClass:"body"},[a("el-table",{staticStyle:{width:"100%",padding:"0",height:"558px"},attrs:{"max-height":"558",data:t.backupsData}},[a("el-table-column",{attrs:{label:"序号",prop:"id"}}),t._v(" "),a("el-table-column",{attrs:{label:"备份数据编号",prop:"number"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handleFinder(e.$index,e.row)}}},[t._v("数据还原\n            ")]),t._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.handleDel(e.row)}}},[t._v("删 除\n            ")])]}}])})],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"margin-left":"16px"}},[this._v("(提示：如果想设置每隔3个月的15号进行定时备份，如：\n              "),e("span",{staticStyle:{color:"#000","font-weight":"700"}},[this._v("每隔3个月的第15日")]),this._v(" )")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"margin-left":"16px"}},[this._v("( 提示：如果想设置每个月的15日进行定时备份，如：\n              "),e("span",{staticStyle:{color:"#000","font-weight":"700"}},[this._v("每隔15日")]),this._v(" )\n            ")])}]};var r=a("VU/8")(s,n,!1,function(t){a("mFMA")},"data-v-d245c4aa",null);e.default=r.exports},mFMA:function(t,e){},qyJz:function(t,e,a){"use strict";var i=a("+ZMJ"),s=a("kM2E"),n=a("sB3e"),r=a("msXi"),o=a("Mhyx"),l=a("QRG4"),c=a("fBQ2"),u=a("3fs2");s(s.S+s.F*!a("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,s,m,p=n(t),h="function"==typeof this?this:Array,f=arguments.length,d=f>1?arguments[1]:void 0,v=void 0!==d,g=0,y=u(p);if(v&&(d=i(d,f>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(a=new h(e=l(p.length));e>g;g++)c(a,g,v?d(p[g],g):p[g]);else for(m=y.call(p),a=new h;!(s=m.next()).done;g++)c(a,g,v?r(m,d,[s.value,g],!0):s.value);return a.length=g,a}})},v1lr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("BO1k"),s=a.n(i),n=a("Gu7T"),r=a.n(n),o=a("gyMJ"),l=a("5789"),c=a("vPHJ"),u={name:"Firmware",mounted:function(){var t=this;Object(o.q)().then(function(e){for(var a=0;a<e.data.length;a++)e.data[a].id=a+1,e.data[a].type="force",e.data[a].time="",e.data[a].state=!1,e.data[a].wifiFirmwareVersion=Object(c.g)(e.data[a].wifiFirmwareVersion);t.firmwareInfoData=e.data,t.firmwareInfo=t.firmwareInfoData.slice(0,t.pageNum)}).catch(function(t){console.log(t)})},data:function(){return{search:"",firmwareData:"",firmwareInfo:[],multipleSelection:[],isIndeterminate:!1,checkAll:!1,allType:"force",allTime:"",lastTime1:0,lastTime2:0,pageNum:10,currentPage:1,firmwareInfoData:[],isCustom:!1,customList:[{name:"打印机编号",state:!0,value:"number"},{name:"版本号",state:!0,value:"wifiFirmwareVersion"},{name:"IP",state:!0,value:"ip"},{name:"操作",state:!0,value:"handle"},{name:"升级模式",state:!0,value:"pattern"}],custom:{number:!0,ip:!0,handle:!0,pattern:!0,wifiFirmwareVersion:!0}}},methods:{request:function(t,e,a){var i=t.target.files[0];if(/(.ota|.bin)$/.test(i.name)){"all"!=a&&(this.firmwareInfo[e.id-1].firmwareName=i.name);var s=new FileReader,n=this;s.onload=function(t){var i=t.target.result.split(",");"all"!=a?n.handleFinder(e,i[1]):n.batchUpgradeFirmware(i[1])},s.readAsDataURL(i)}else this.$message({type:"error",message:"文件类型有误",duration:3e3,showClose:!0})},handleFinder:function(t,e){var a=this,i={number:t.number,data:e,type:t.type};"wecut"===t.type?(i.timeStr=t.time,Object(o.I)(i).then(function(t){a.$message({type:"success",message:"定时升级固件任务建立成功",duration:3e3,showClose:!0})}).catch(function(t){a.$message({type:"error",message:t.data,duration:3e3,showClose:!0})})):Object(o.I)(i).then(function(t){a.$message({type:"success",message:"固件正在升级",duration:3e3,showClose:!0})}).catch(function(t){a.$message({type:"error",message:t.data,duration:3e3,showClose:!0})})},oneSelect:function(t,e){if(e)this.firmwareInfo[t].state=!0,this.multipleSelection.push(this.firmwareInfo[t]),this.checkAll=this.multipleSelection.length===this.firmwareInfo.length,this.isIndeterminate=this.multipleSelection.length<this.firmwareInfo.length&&0!=this.multipleSelection.length;else{for(var a=this.firmwareInfo[t].number,i=0;i<this.multipleSelection.length;i++)a===this.multipleSelection[i].number&&this.multipleSelection.splice(i,1);this.isIndeterminate=this.multipleSelection.length<this.firmwareInfo.length&&0!=this.multipleSelection.length,this.checkAll=0===this.multipleSelection.length}},handleCheckAllChange:function(t){if(t){for(var e=0;e<this.firmwareInfo.length;e++)this.firmwareInfo[e].state=!0;this.multipleSelection=[],this.multipleSelection=[].concat(r()(this.firmwareInfo)),this.isIndeterminate=!1}else{for(var a=0;a<this.firmwareInfo.length;a++)this.firmwareInfo[a].state=!1;this.multipleSelection=[],this.isIndeterminate=!1}},batchUpgradeFirmware:function(t){var e=this,a=this.multipleSelection;if(a.length>0)if("wecut"===this.allType)for(var i=function(i){var s={number:a[i].number,data:t,type:e.allType,timeStr:e.allTime};Object(o.I)(s).then(function(t){e.$message({type:"success",message:"批量定时升级固件任务建立成功",duration:3e3,showClose:!0})}).catch(function(t){e.$message({type:"error",message:s.number+t.data,duration:3e3,showClose:!0})})},s=0;s<a.length;s++)i(s);else{var n=function(i){var s={number:a[i].number,data:t,type:e.allType};Object(o.I)(s).then(function(t){e.$message({type:"success",message:"批量升级开始",duration:3e3,showClose:!0})}).catch(function(t){e.$message({type:"error",message:s.number+t.data,duration:3e3,showClose:!0})})};for(s=0;s<a.length;s++)n(s)}else this.$message({type:"error",message:"请选择要升级的打印机",duration:3e3,showClose:!0})},setTime:function(t,e){"wecut"!==e.type&&(this.firmwareInfo[t].time="")},timeOut:function(t){var e=Date.now();return e-this.lastTime1<2e3?(console.log(1),this[t]=e,!1):(this[t]=e,!0)},handleChange:function(t){this.firmwareInfo=this.firmwareInfoData.slice(0,t)},handleCurrentChange:function(t){this.multipleSelection=[],this.checkAll=!1;for(var e=0;e<this.firmwareInfo.length;e++)this.firmwareInfo[e].state=!1;var a=this.pageNum*t,i=a-this.pageNum;this.firmwareInfo=[],this.firmwareInfo=this.firmwareInfoData.slice(i,a)},defaultFun:function(t){this.custom={};var e=!0,a=!1,i=void 0;try{for(var n,r=s()(t);!(e=(n=r.next()).done);e=!0){var o=n.value;this.custom[o.value]=o.state}}catch(t){a=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw i}}},confirmFun:function(t){this.custom={};var e=!0,a=!1,i=void 0;try{for(var n,r=s()(t);!(e=(n=r.next()).done);e=!0){var o=n.value;this.custom[o.value]=o.state}}catch(t){a=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw i}}this.customList=t},closeCustom:function(t){this.customList=[],this.customList=t}},components:{MyPopover:l.a}},m={render:function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"right"},[i("div",{staticClass:"box"},[i("div",{staticClass:"title"},[i("div",{staticStyle:{display:"flex"}},[i("span",{staticStyle:{"margin-right":"40px"}},[e._v("固件升级")]),e._v(" "),i("MyPopover",{attrs:{"custom-list":e.customList},on:{defaultFun:e.defaultFun,confirmFun:e.confirmFun,closeCustom:e.closeCustom}})],1),e._v(" "),i("el-input",{staticStyle:{width:"250px",height:"100%"},attrs:{placeholder:"请输入number号搜索","suffix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),i("div",{staticClass:"body"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"558px"},attrs:{data:e.firmwareInfo.filter(function(e){return!t.search||e.number.toLowerCase().includes(t.search.toLowerCase())}),"max-height":"558"}},[i("el-table-column",{attrs:{width:"100"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){return[i("el-checkbox",{on:{change:function(a){return e.oneSelect(t.$index,t.row.state)}},model:{value:t.row.state,callback:function(a){e.$set(t.row,"state",a)},expression:"scope.row.state"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"序号",prop:"id",width:"100"}}),e._v(" "),e.custom.number?i("el-table-column",{attrs:{label:"打印机编号",prop:"number"}}):e._e(),e._v(" "),e.custom.wifiFirmwareVersion?i("el-table-column",{attrs:{label:"版本号",prop:"wifiFirmwareVersion"}}):e._e(),e._v(" "),e.custom.ip?i("el-table-column",{attrs:{label:"IP",prop:"ipsString"}}):e._e(),e._v(" "),e.custom.pattern?i("el-table-column",{attrs:{label:"升级模式",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",size:"small"},on:{change:function(a){return e.setTime(t.row.id-1,t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},[i("el-option",{attrs:{value:"wecut",label:"定时模式"}}),e._v(" "),i("el-option",{attrs:{value:"force",label:"强制模式"}}),e._v(" "),i("el-option",{attrs:{value:"free",label:"智能模式"}})],1)]}}],null,!1,2907560160)}):e._e(),e._v(" "),e.custom.pattern?i("el-table-column",{attrs:{label:"定时时间",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return"wecut"===t.row.type?[i("el-date-picker",{staticStyle:{width:"190px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",size:"small",placeholder:"选择日期时间"},model:{value:t.row.time,callback:function(a){e.$set(t.row,"time",a)},expression:"scope.row.time"}})]:void 0}}],null,!0)}):e._e(),e._v(" "),e.custom.handle?i("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("input",{staticStyle:{display:"none"},attrs:{id:t.row.id,type:"file"},on:{change:function(a){return e.request(a,t.row,"noAll")}}}),e._v(" "),i("label",{staticClass:"btn one-btn",attrs:{slot:"reference",for:t.row.id,title:"请导入.ota文件"},slot:"reference"},[e._v("\n              升级\n            ")])]}}],null,!1,2161864449)}):e._e()],1)],1),e._v(" "),i("div",{staticClass:"pagination"},[i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("input",{staticStyle:{display:"none"},attrs:{id:"allFirmware",type:"file"},on:{change:function(t){return e.request(t,"","all")}}}),e._v(" "),i("label",{staticClass:"btn all-btn",attrs:{for:"allFirmware",title:"请导入.ota文件"}},[e._v("\n          批量升级\n        ")]),e._v(" "),i("el-select",{staticStyle:{width:"110px","margin-right":"10px"},attrs:{placeholder:"请选择",name:"type",size:"small"},model:{value:e.allType,callback:function(t){e.allType=t},expression:"allType"}},[i("el-option",{attrs:{value:"wecut",label:"定时模式"}},[e._v("定时模式\n            "),i("el-popover",{attrs:{placement:"right",width:"50",trigger:"hover","popper-class":"popover",content:"选择定时时间，当到达定时时间时，自动升级"}},[i("i",{class:"wecut"==e.allType?"on-question":"question",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),i("el-option",{attrs:{value:"force",label:"强制模式"}},[e._v("强制模式\n            "),i("el-popover",{attrs:{placement:"right",width:"50",trigger:"hover","popper-class":"popover",content:"无论设备在工作还是空闲，也能立即升级"}},[i("i",{class:"force"==e.allType?"on-question":"question",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),i("el-option",{attrs:{value:"free",label:"智能模式"}},[e._v("智能模式\n            "),i("el-popover",{attrs:{placement:"right",width:"50",trigger:"hover","popper-class":"popover",content:"当设备空闲时，自动升级"}},[i("i",{class:"free"==e.allType?"on-question":"question",attrs:{slot:"reference"},slot:"reference"})])],1)],1),e._v(" "),i("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"wecut"===e.allType,expression:"allType==='wecut'"}],staticStyle:{width:"200px","margin-right":"18px"},attrs:{type:"datetime",size:"small","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:e.allTime,callback:function(t){e.allTime=t},expression:"allTime"}})],1),e._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageNum,layout:"prev, pager, next, jumper",total:e.firmwareInfoData.length},on:{handleChange:e.handleChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}),e._v(" "),i("span",{staticStyle:{"margin-left":"18px"}},[e._v("每页显示行数：")]),e._v(" "),i("el-input-number",{attrs:{size:"mini",min:1,label:"描述文字"},on:{change:e.handleChange},model:{value:e.pageNum,callback:function(t){e.pageNum=t},expression:"pageNum"}})],1)])])])},staticRenderFns:[]};var p=a("VU/8")(u,m,!1,function(t){a("+Oz+")},"data-v-b826c04c",null);e.default=p.exports}});