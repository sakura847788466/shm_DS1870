webpackJsonp([9],{"3jL4":function(t,e){},LOst:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("BO1k"),s=a.n(n),i=a("Dd8w"),r=a.n(i),l=a("gyMJ"),o=a("vPHJ"),c={name:"AquipmentConfig",mounted:function(){var t=this;Object(l.m)().then(function(e){for(var a=0;a<e.data.length;a++)t.numberList.push({id:a+1,number:e.data[a],loading:!1});t.numberListData=t.numberList.slice(0,t.pageNum)}).catch(function(t){console.log(t)})},data:function(){return{numberList:[],numberListData:[],numberData:{},cancelNumberData:{},search:"",printNumber:"",loading:!1,tab:!0,spi:[{v:"0",label:"1字节"},{v:"1",label:"8字节"}],proxyMode:[{v:"0",label:"域名代理"},{v:"1",label:"IP代理"}],dsfz:[{v:"0",label:"不支持"},{v:"1",label:"支持"}],dataTransmissionSpeed:[{v:0,label:"低"},{v:2,label:"正常"},{v:3,label:"高"}],currentPage:1,pageNum:10}},methods:{myMessage:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;this.$message({message:e,type:t,duration:a,showClose:!0,offset:54})},handleFinder:function(t,e){var a=this;this.numberListData[t].loading=!0,this.printNumber=e.number,this.getConfig(e.number,t),setTimeout(function(){a.tab=!1,a.numberListData[t].loading=!1},300)},getConfig:function(t){var e=this;Object(l.n)(t).then(function(t){t.data.dsfz&&t.data.dsfz.toString(),t.data.socketProxy&&t.data.socketProxy.toString(),"0"!=t.data.dsfz&&null!=t.data.dsfz||(t.data.dsfz="0"),"0"!=t.data.proxyMode&&null!=t.data.proxyMode||(t.data.proxyMode="0"),"0"!=t.data.spi&&null!=t.data.spi||(t.data.spi="0"),t.data.networkChannel=t.data.networkChannel+1,e.numberData=Object(o.d)(t.data),e.cancelNumberData=r()({},e.numberData)}).catch(function(t){e.myMessage("error","读取失败")})},back:function(){this.tab=!0},handleChange:function(t){this.numberListData=this.numberList.slice(0,t)},handleCurrentChange:function(t){var e=this.pageNum*t,a=e-this.pageNum;this.numberListData=[],this.numberListData=this.numberList.slice(a,e),this.search=""},saveConfig:function(){var t=this;this.myVerification(this.numberData)&&(this.numberData.networkChannel=this.numberData.networkChannel-1,Object(l.C)({data:this.numberData}).then(function(e){t.myMessage("success","设备信息修改成功"),t.getConfig(t.printNumber)}).catch(function(e){t.myMessage("error",e.data)}))},cancelConfig:function(){this.numberData=null,this.numberData=r()({},this.cancelNumberData),this.myMessage("success","已取消")},myVerification:function(t){var e=this,a=t.dns,n=t.dhcp,i=t.socketProxy,r={},l=function(t,e){if(""==t||null==t)throw e},o=function(t,e){if(!/(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}/g.test(t))throw e},c=function(t,e){if(""!=t){if(null==t)return;if(t.length<=7)throw e+"不能小于8位字符";if(!/^[A-Za-z0-9]+$/.test(t))throw e+"只能是数字和字母"}},m=function(t,e){if(!/^[0-9]+.?[0-9]*/.test(t))throw e+"只能为数字";if(t>65535)throw e+"值不能大于65535"};return r.remoteRouteSsid=[{func:l,msg:"请输入路由SSID"}],r.remoteRoutePassword=[{func:c,msg:"路由密码"}],r.remoteServerAddress=[{func:l,msg:"请输入服务器IP"},{func:o,msg:"服务器IP格式有误"}],r.controlPort=[{func:l,msg:"请输入控制端口"},{func:m,msg:"控制端口"}],r.dataPort=[{func:l,msg:"请输入数据端口"},{func:m,msg:"数据端口"}],r.reconnectionInterval=[{func:l,msg:"请输入重连时长(s)"}],1!=n&&(r.localIpAddress=[{func:l,msg:"请输入IP地址"},{func:o,msg:"IP地址格式错误"}],r.localGateway=[{func:l,msg:"请输入默认网关"},{func:o,msg:"默认网关格式错误"}],r.localSubnetMask=[{func:l,msg:"请输入子网掩码"}]),1==a&&(r.domainName=[{func:l,msg:"请输入服务器域名"}],r.mainDNSServerAddress=[{func:l,msg:"请输入首选DNS地址"},{func:o,msg:"首选DNS地址格式错误"}],r.slaveDNSServerAddress=[{func:l,msg:"请输入备选DNS地址"},{func:o,msg:"备选DNS地址格式错误"}]),1==i&&(r.proxyUrl=[{func:l,msg:"请输入代理URL"}],r.proxyAddress=[{func:l,msg:"请输入代理IP"},{func:o,msg:"代理IP格式有误"}],r.proxyPort=[{func:l,msg:"请输入代理端口"},{func:m,msg:"代理端口"}],r.proxyUserName=[{func:l,msg:"请输入代理用户名"}],r.proxyMode=[{func:l,msg:"请选择代理方式"}],r.proxyPassword=[{func:c,msg:"代理密码"}]),function(){for(var a in t)for(var n in r)if(a==n){var i=!0,l=!1,o=void 0;try{for(var c,m=s()(r[n]);!(i=(c=m.next()).done);i=!0){var u=c.value;try{u.func(t[a],u.msg)}catch(t){return e.$alert(t,"错误提示",{type:"error"}),!1}}}catch(t){l=!0,o=t}finally{try{!i&&m.return&&m.return()}finally{if(l)throw o}}}return!0}()}}},m={render:function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"right"},[n("div",{staticClass:"title"},[n("span",[e._v("设备配置信息")]),e._v(" "),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.tab,expression:"tab"}],staticClass:"search",attrs:{placeholder:"输入打印机编号搜索","suffix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("div",{staticClass:"line"}),e._v(" "),n("div",{staticClass:"body"},[n("el-table",{directives:[{name:"show",rawName:"v-show",value:e.tab,expression:"tab"}],staticStyle:{width:"100%","min-height":"598px","font-size":"16px",color:"#999"},attrs:{"max-height":"598",data:e.numberListData.filter(function(e){return!t.search||e.number.toLowerCase().includes(t.search.toLowerCase())}),"header-cell-style":{color:"#666"},"cell-style":{height:"55px"}}},[n("el-table-column",{attrs:{label:"序号",prop:"id"}}),e._v(" "),n("el-table-column",{attrs:{label:"打印机编号",prop:"number"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",prop:"name",width:"125px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"btn",attrs:{type:"primary",loading:t.row.loading,size:"mini"},on:{click:function(a){return e.handleFinder(t.row.id-1,t.row)}}},[e._v("修改配置\n          ")])]}}])})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.tab,expression:"!tab"}]},[n("div",{staticClass:"title-two"},[n("p",{staticStyle:{"font-size":"16px",color:"#666"}},[e._v("当前打印机："+e._s(e.numberData.number))]),e._v(" "),n("el-button",{staticStyle:{width:"60px",height:"36px","border-radius":"6px","font-size":"14px"},attrs:{type:"danger",size:"small"},on:{click:e.back}},[e._v("返回\n        ")])],1),e._v(" "),n("div",[n("div",[n("div",{staticClass:"item-title"},[e._v("网络参数")]),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("dhcp :")]),e._v(" "),n("el-switch",{attrs:{"active-value":1},model:{value:e.numberData.dhcp,callback:function(t){e.$set(e.numberData,"dhcp",t)},expression:"numberData.dhcp"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("IP地址 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15",disabled:1==e.numberData.dhcp},model:{value:e.numberData.localIpAddress,callback:function(t){e.$set(e.numberData,"localIpAddress","string"==typeof t?t.trim():t)},expression:"numberData.localIpAddress"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("子网掩码 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15",disabled:1==e.numberData.dhcp},model:{value:e.numberData.localSubnetMask,callback:function(t){e.$set(e.numberData,"localSubnetMask","string"==typeof t?t.trim():t)},expression:"numberData.localSubnetMask"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("默认网关 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15",disabled:1==e.numberData.dhcp},model:{value:e.numberData.localGateway,callback:function(t){e.$set(e.numberData,"localGateway","string"==typeof t?t.trim():t)},expression:"numberData.localGateway"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("WIFI信道 :")]),e._v(" "),n("el-select",{staticClass:"item-content-msg",attrs:{placeholder:"请选择"},model:{value:e.numberData.networkChannel,callback:function(t){e.$set(e.numberData,"networkChannel",t)},expression:"numberData.networkChannel"}},e._l(11,function(t){return n("el-option",{key:t,attrs:{value:t,label:t}})}),1)],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("路由SSID :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32"},model:{value:e.numberData.remoteRouteSsid,callback:function(t){e.$set(e.numberData,"remoteRouteSsid","string"==typeof t?t.trim():t)},expression:"numberData.remoteRouteSsid"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("路由密码 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32"},model:{value:e.numberData.remoteRoutePassword,callback:function(t){e.$set(e.numberData,"remoteRoutePassword","string"==typeof t?t.trim():t)},expression:"numberData.remoteRoutePassword"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"item-title"},[e._v("打印服务器配置")]),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("dns :")]),e._v(" "),n("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.numberData.dns,callback:function(t){e.$set(e.numberData,"dns",t)},expression:"numberData.dns"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("服务器域名 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32",disabled:1!=e.numberData.dns},model:{value:e.numberData.domainName,callback:function(t){e.$set(e.numberData,"domainName","string"==typeof t?t.trim():t)},expression:"numberData.domainName"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("首选DNS地址 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15",disabled:1!=e.numberData.dns},model:{value:e.numberData.mainDNSServerAddress,callback:function(t){e.$set(e.numberData,"mainDNSServerAddress","string"==typeof t?t.trim():t)},expression:"numberData.mainDNSServerAddress"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("备选DNS地址 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15",disabled:1!=e.numberData.dns},model:{value:e.numberData.slaveDNSServerAddress,callback:function(t){e.$set(e.numberData,"slaveDNSServerAddress","string"==typeof t?t.trim():t)},expression:"numberData.slaveDNSServerAddress"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("服务器IP :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15"},model:{value:e.numberData.remoteServerAddress,callback:function(t){e.$set(e.numberData,"remoteServerAddress","string"==typeof t?t.trim():t)},expression:"numberData.remoteServerAddress"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("广播端口 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"5",disabled:""},model:{value:e.numberData.udpPort,callback:function(t){e.$set(e.numberData,"udpPort","string"==typeof t?t.trim():t)},expression:"numberData.udpPort"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("控制端口 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"5",type:"number"},model:{value:e.numberData.controlPort,callback:function(t){e.$set(e.numberData,"controlPort",e._n("string"==typeof t?t.trim():t))},expression:"numberData.controlPort"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("数据端口 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"5",type:"number"},model:{value:e.numberData.dataPort,callback:function(t){e.$set(e.numberData,"dataPort",e._n("string"==typeof t?t.trim():t))},expression:"numberData.dataPort"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"item-title"},[e._v("代理服务配置")]),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("socket代理 :")]),e._v(" "),n("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.numberData.socketProxy,callback:function(t){e.$set(e.numberData,"socketProxy",t)},expression:"numberData.socketProxy"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("代理Url :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32",disabled:1!=e.numberData.socketProxy},model:{value:e.numberData.proxyUrl,callback:function(t){e.$set(e.numberData,"proxyUrl","string"==typeof t?t.trim():t)},expression:"numberData.proxyUrl"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("代理方式 :")]),e._v(" "),n("el-select",{staticClass:"item-content-msg",attrs:{placeholder:"请选择",disabled:1!=e.numberData.socketProxy},model:{value:e.numberData.proxyMode,callback:function(t){e.$set(e.numberData,"proxyMode",t)},expression:"numberData.proxyMode"}},e._l(e.proxyMode,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.v}})}),1)],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("代理IP:")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"15",disabled:1!=e.numberData.socketProxy},model:{value:e.numberData.proxyAddress,callback:function(t){e.$set(e.numberData,"proxyAddress","string"==typeof t?t.trim():t)},expression:"numberData.proxyAddress"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("代理端口 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"5",type:"number",disabled:1!=e.numberData.socketProxy},model:{value:e.numberData.proxyPort,callback:function(t){e.$set(e.numberData,"proxyPort",e._n("string"==typeof t?t.trim():t))},expression:"numberData.proxyPort"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("代理用户名 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32",disabled:1!=e.numberData.socketProxy},model:{value:e.numberData.proxyUserName,callback:function(t){e.$set(e.numberData,"proxyUserName","string"==typeof t?t.trim():t)},expression:"numberData.proxyUserName"}})],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("代理密码 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32",disabled:1!=e.numberData.socketProxy},model:{value:e.numberData.proxyPassword,callback:function(t){e.$set(e.numberData,"proxyPassword","string"==typeof t?t.trim():t)},expression:"numberData.proxyPassword"}})],1)]),e._v(" "),n("div",[n("div",{staticClass:"item-title"},[e._v("设备相关")]),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("得实仿真 :")]),e._v(" "),n("el-select",{staticClass:"item-content-msg",attrs:{placeholder:"请选择"},model:{value:e.numberData.dsfz,callback:function(t){e.$set(e.numberData,"dsfz",t)},expression:"numberData.dsfz"}},e._l(e.dsfz,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.v}})}),1)],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("SPI通讯 :")]),e._v(" "),n("el-select",{staticClass:"item-content-msg",attrs:{placeholder:"请选择"},model:{value:e.numberData.spi,callback:function(t){e.$set(e.numberData,"spi",t)},expression:"numberData.spi"}},e._l(e.spi,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.v}})}),1)],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("通信速度 :")]),e._v(" "),n("el-select",{staticClass:"item-content-msg",attrs:{placeholder:"请选择"},model:{value:e.numberData.dataTransmissionSpeed,callback:function(t){e.$set(e.numberData,"dataTransmissionSpeed",t)},expression:"numberData.dataTransmissionSpeed"}},e._l(e.dataTransmissionSpeed,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.v}})}),1)],1),e._v(" "),n("div",{staticClass:"item-content"},[n("span",{staticClass:"item-content-title"},[e._v("重连时长 :")]),e._v(" "),n("el-input",{staticClass:"item-content-msg",attrs:{"suffix-icon":"el-icon-edit",maxlength:"32",type:"number"},model:{value:e.numberData.reconnectionInterval,callback:function(t){e.$set(e.numberData,"reconnectionInterval",e._n("string"==typeof t?t.trim():t))},expression:"numberData.reconnectionInterval"}})],1)])]),e._v(" "),n("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"12px","margin-bottom":"72px"}},[n("el-button",{staticStyle:{width:"60px",height:"36px","border-radius":"6px"},attrs:{size:"small"},on:{click:e.cancelConfig}},[e._v("取消\n        ")]),e._v(" "),n("el-button",{staticStyle:{width:"60px",height:"36px","border-radius":"6px"},attrs:{size:"small",type:"primary"},on:{click:e.saveConfig}},[e._v("保存\n        ")])],1)])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tab,expression:"tab"}],staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageNum,layout:"prev, pager, next, jumper",total:e.numberList.length},on:{handleChange:e.handleChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}),e._v(" "),n("span",{staticStyle:{"margin-left":"18px"}},[e._v("每页显示行数：")]),e._v(" "),n("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini",min:1,label:"描述文字"},on:{change:e.handleChange},model:{value:e.pageNum,callback:function(t){e.pageNum=t},expression:"pageNum"}})],1)])},staticRenderFns:[]};var u=a("VU/8")(c,m,!1,function(t){a("3jL4")},"data-v-6178022d",null);e.default=u.exports}});